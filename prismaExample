generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Users {
  userId Int @id @default(autoincrement()) @map("userId")
  id String @unique @map("id")
  password String @map("password")

  userInfos UserInfos?

  @@map("Users")
}

model UserInfos {
    userInfoId Int @id @default(autoincrement()) @map("userInfoId")
    userId Int @unique @map("userId")
    money Int @map("money")
    gamePoint Int @map("gamePoint")
    createdAt DateTime @default(now()) @map("createdAt")
    updatedAt DateTime @updatedAt @map("updatedAt")

    users Users @relation(fields: [userId], references: [userId], onDelete: Cascade)
    playerInventories PlayerInventories[]
    rosters Rosters[]
    gamerecords GameRecords[]

    @@map("UserInfos")
}

model Players {
    playerId Int @id @default(autoincrement()) @map("playerId")
    playerName String @unique @map("playerName")
    speed Int @map("speed")
    goalDecision Int @map("goalDecision")
    goalPower Int @map("goalPower")
    defence Int @map("defence")
    stamina Int @map("stamina")
    overall Int @map("overall")
    createdAt DateTime @default(now()) @map("createdAt")
    updatedAt DateTime @updatedAt @map("updatedAt")

    playerInventories PlayerInventories[]
    rosters Rosters[]

    @@map("Player")
}

model PlayerInventories {
    inventoryId Int @id @default(autoincrement()) @map("inventoryId")
    userInfoId Int @unique @map("userInfoId")
    playerId Int @unique @map("playerId")

    userInfos UserInfos @relation(fields: [userInfoId], references: [userInfoId], onDelete: Cascade)
    players Players @relation(fields: [playerId], references: [playerId], onDelete: Cascade)

    @@map("PlayerInventories")
}

model Rosters {
    rosterId Int @id @default(autoincrement()) @map("rosterId")
    userInfoId Int @unique @map("userInfoId")
    playerId Int @unique @map("playerId")

    userInfos UserInfos @relation(fields: [userInfoId], references: [userInfoId], onDelete: Cascade)
    players Players @relation(fields: [playerId], references: [playerId], onDelete: Cascade)

    @@map("Rosters")
}

model GameRecords {
    gameRecordId Int @id @default(autoincrement()) @map("gameRecordId")
    userInfoId Int @unique @map("userInfoId")
    win Int @map("win")
    lose Int @map("lose")
    draw Int @map("draw")
    createdAt DateTime @default(now()) @map("createdAt")

    userInfos UserInfos @relation(fields: [userInfoId], references: [userInfoId], onDelete: Cascade)

    @@map("GameRecords")
}
